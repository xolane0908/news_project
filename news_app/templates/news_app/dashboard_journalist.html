
{% extends 'news_app/base.html' %}

{% block content %}
<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Quick Actions</h5>
                <a href="{% url 'create_article' %}" class="btn btn-success mb-2 w-100">Create New Article</a>
                <a href="{% url 'create_newsletter' %}" class="btn btn-info w-100">Create Newsletter</a>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-6">
        <h3>Your Articles</h3>
        {% for article in my_articles %}
            <div class="card mb-3">
                <div class="card-body">
                    <h5>{{ article.title }}</h5>
                    <p class="mb-1">{{ article.content|truncatewords:20 }}</p>
                    <small class="text-muted">
                        Status: 
                        {% if article.is_approved %}
                            <span class="text-success">Approved</span>
                        {% else %}
                            <span class="text-warning">Pending Approval</span>
                        {% endif %}
                        • Created: {{ article.created_at|date:"M d, Y" }}
                        {% if article.publisher %}
                            • {{ article.publisher.name }}
                        {% endif %}
                    </small>
                    <div class="mt-2">
                        <a href="{% url 'article_detail' article.id %}" class="btn btn-sm btn-outline-primary">View</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p class="text-muted">You haven't created any articles yet.</p>
        {% endfor %}
    </div>

    <div class="col-md-6">
        <h3>Your Newsletters</h3>
        {% for newsletter in my_newsletters %}
            <div class="card mb-3">
                <div class="card-body">
                    <h5>{{ newsletter.title }}</h5>
                    <p class="mb-1">{{ newsletter.content|truncatewords:20 }}</p>
                    <small class="text-muted">
                        Status: 
                        {% if newsletter.is_published %}
                            <span class="text-success">Published</span>
                        {% else %}
                            <span class="text-warning">Draft</span>
                        {% endif %}
                        • Created: {{ newsletter.created_at|date:"M d, Y" }}
                    </small>
                </div>
            </div>
        {% empty %}
            <p class="text-muted">You haven't created any newsletters yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}